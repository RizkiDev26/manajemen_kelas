# Apache Virtual Host Configuration for HTTPS on port 443
# Place this in your Apache sites-available directory and enable it

<VirtualHost *:443>
    ServerName localhost
    DocumentRoot "C:/Users/acer/OneDrive/ci4-project/public"
    
    # SSL Configuration
    SSLEngine on
    SSLCertificateFile "C:/Users/acer/OneDrive/ci4-project/certificates/localhost.crt"
    SSLCertificateKeyFile "C:/Users/acer/OneDrive/ci4-project/certificates/localhost.key"
    
    # Directory permissions
    <Directory "C:/Users/acer/OneDrive/ci4-project/public">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    
    # Logging
    ErrorLog logs/ci4-ssl-error.log
    CustomLog logs/ci4-ssl-access.log combined
    
    # Security headers
    Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
    Header always set X-Frame-Options DENY
    Header always set X-Content-Type-Options nosniff
</VirtualHost>

# Redirect HTTP to HTTPS
<VirtualHost *:80>
    ServerName localhost
    Redirect permanent / https://localhost/
</VirtualHost>
